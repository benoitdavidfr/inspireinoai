swagger: '2.0'
info:
  version: '0.5.0'
  title: 'Inspire metadata'
  description: >-
    This document specifies INSPIRE metadata elements as defined in
    [Inspire Regulation 1205/2008](http://data.europa.eu/eli/reg/2008/1205/oj) in the metadata definition.
    This definition is used in other specifications.
      It's URL is
    'https://raw.githubusercontent.com/benoitdavidfr/inspireinoai/master/metadata.yaml#/definitions/metadata'.
      Each property of the metadata object contains in its description parameter the name of the element as given
    in the regulation, its number, and the definition given in the regulation.

# Added by API Auto Mocking Plugin
# host: inspireappli.geoapi.fr
# basePath: /
# schemes:
#  - http
# Added by API Auto Mocking Plugin
host: virtserver.swaggerhub.com
basePath: /benoitdavidfr/metadatainoai/0.1.0
schemes:
 - https
 - http
paths:
  /:
    get:
      tags:
        - API documentation
      summary: Returns a short description of the API
      operationId: desc
      produces:
        - text/html
        - application/json
      responses:
        '200':
          description: opération réussie
  /doc:
    get:
      tags:
        - API documentation
      summary: Forward to complete documentation site
      operationId: doc
      produces:
        - text/html
      responses:
        '200':
          description: opération réussie
  /spec:
    get:
      tags:
        - API documentation
      summary: Forward to API specification in Swagger
      operationId: spec
      produces:
        - text/html
        - application/json
      responses:
        '200':
          description: opération réussie
  /terms:
    get:
      tags:
        - API documentation
      summary: Returns the terms of use
      operationId: terms
      produces:
        - text/html
      responses:
        '200':
          description: opération réussie
  '/{dsid}':
    get:
      tags:
        - dataset URI
      summary: the dataset URI returns the dataset metadata
      operationId: datasetUri
      produces:
        - application/json
      parameters:
        - name: dsid
          in: path
          description: ID of the dataset
          required: true
          type: string
      responses:
        '200':
          description: >-
            the dataset metadata
            'https://raw.githubusercontent.com/benoitdavidfr/inspireinoai/master/metadata.yaml#/definitions/metadata'
          schema:
            $ref: '#/definitions/metadata'
        '404':
          description: no dataset corresponds to this URI
        '410':
          description: the dataset corresponding to this URI doesn't exist anymore

definitions:
  metadata:
    type: object
    description: >-
      INSPIRE metadata elements as defined in [Inspire Regulation 1205/2008](http://data.europa.eu/eli/reg/2008/1205/oj)
        Properties correspond to elements of Part B of the annex.
    properties:
      title:
        description: >-
          Resource title (1.1)
            A characteristic, and often unique, name by which the resource is known.
            The value domain of this metadata element is free text.
        type: string
      abstract:
        description: >-
          Resource abstract (1.2)
            A brief narrative summary of the content of the resource.
            The value domain of this metadata element is free text.
        type: string
      type:
        enum: [series, dataset, services]
        description: >-
          Resource type (1.3)  
            This is the type of resource being described by the metadata.  
            The value domain of this metadata element is:
            * series: Spatial data set series
            * dataset: Spatial data set
            * services: Spatial data services
        type: string
      locator:
        description: >-
          Resource locator (1.4)
            The link(s) to the resource and/or the link to additional information about the resource.
            The value domain of this metadata element is a character string, commonly expressed as uniform resource
          locator (URL).
        type: array
        items:
          type: string
      uri:
        description: >-
          Unique resource identifier (1.5)
            A value uniquely identifying the resource.
            The value domain of this metadata element is a mandatory character string code, generally assigned by the
          data owner, and a character string namespace uniquely identifying the context of the identifier code (for
          example, the data owner).
        type: array
        items:
          type: string
      operatesOn:
        description: >-
          Coupled resource (1.6)
            If the resource is a spatial data service, this metadata element identifies, where relevant, the target
          spatial data set(s) of the service through their unique resource identifiers (URI).
            The value domain of this metadata element is a mandatory character string code, generally assigned by
          the data owner, and a character string namespace uniquely identifying the context of the identifier code
          (for example, the data owner).
        type: array
        items:
          type: string
      resourceLanguage:
        description: >-
          Resource language (1.7)
            The language(s) used within the resource.
            The value domain of this metadata element is limited to the languages defined in ISO 639-2.
        type: array
        items:
          type: string
      topicCategory:
        description: >-
          Topic category (2.1)
            The topic category is a high-level classification scheme to assist in the grouping and topic-based search of
          available spatial data resources.
            The value domain of this metadata element is defined in Part D.2.
        type: array
        items:
          type: string
          enum:
            - farming
            - biota
            - boundaries
            - climatologyMeteorologyAtmosphere
            - economy
            - elevation
            - environment
            - geoscientificInformation
            - health
            - imageryBaseMapsEarthCover
            - intelligenceMilitary
            - inlandWaters
            - location
            - oceans
            - planningCadastre
            - society
            - structure
            - transportation
            - utilitiesCommunication
      serviceType:
        description: >-
          Spatial data service type (2.2)  
            This is a classification to assist in the search of available spatial data services. A specific service
          shall be categorised in only one category.
            The value domain of this metadata element is defined in Part D.3. 
        type: string
        enum: [discovery, view, download, transformation, invoke, other]
      keywords:
        description: >-
          KEYWORD (3.)
            If the resource is a spatial data service, at least one keyword from Part D.4 shall be provided.
            If a resource is a spatial data set or spatial data set series, at least one keyword shall be provided
          from the general environmental multilingual thesaurus (GEMET) describing the relevant spatial data theme 
          as defined in Annex I, II or III to Directive 2007/2/EC.
            If the keyword doesn't originate from a controlled vocabulary then only the value property is given,
            else if an URI is defined for the keyword then this URI is given in the uri property
            else if an URI is defined for the controlled vocabulary then  this URI is given in the cvocUri property
            else
        type: array
        items:
          type: object
          properties:
            value: 
              type: string
              description: the value or label of the keyword
            uri:
              type: string
              description: the URI of the keyword if it exists
            cvocUri:
              type: string
              description: >-
                the URI of the controlled vocabulary if it exists and if the URI of the keyword doesn't exist
            cvocTitle:
              type: string
              description: if none of the URI exist, the title of the controlled vocabulary
            cvocReferenceDate:
              type: string
              description: >-
                if none of the URI exist, the reference date (date of publication, date of last revision or of
                creation) of the controlled vocabulary
      bbox:
        description: >-
          Geographic bounding box (4.1)
            This is the extent of the resource in the geographic space, given as a bounding box.
            The bounding box shall be expressed with westbound and eastbound longitudes, and southbound and northbound
          latitudes in decimal degrees, with a precision of at least two decimals.
            It can be usefull to use a set of bounding boxes instead of one; the extent is the union of the boxes.
          Therefore it is the choice here.
        type: array
        items:
          type: object
          description: each bounding box
          properties:
            westBoundLongitude: {type: number}
            southBoundLatitude: {type: number}
            eastBoundLongitude: {type: number}
            northBoundLatitude: {type: number}
      temporalExtent:
        description: >-
          TEMPORAL REFERENCE (5.)
            This metadata element addresses the requirement to have information on the temporal dimension of the data
          as referred to in Article 8(2)(d) of Directive 2007/2/EC. At least one of the metadata elements referred
          to in points 5.1 to 5.4 shall be provided.
            The value domain of the metadata elements referred to in points 5.1 to 5.4 is a set of dates. Each date
          shall refer to a temporal reference system and shall be expressed in a form compatible with that system.
          The default reference system shall be the Gregorian calendar, with dates expressed in accordance with
          ISO 8601.
        type: array
        items:
          type: object
          description: each date or interval, defined by its type
          properties:
            type:
              type: string
              description: the kind of date or interval of dates
              enum: [ temporalExtent, publicationDate, lastRevisionDate, creationDate]
            date:
              type: string
              format: date
            startingDate:
              type: string
              format: date
            endDate:
              type: string
              format: date
      lineage:
        description: >-
          Lineage (6.1)
            This is a statement on process history and/or overall quality of the spatial data set. Where appropriate
          it may include a statement whether the data set has been validated or quality assured, whether it is the
          official version (if multiple versions exist), and whether it has legal validity.
            The value domain of this metadata element is free text.
        type: string
      spatialResolutionScaleDenominator:
        description: >-
          Spatial resolution (6.2)
            Spatial resolution refers to the level of detail of the data set. It shall be expressed as a set of zero
          to many resolution distances (typically for gridded data and imagery-derived products) or equivalent
          scales (typically for maps or map-derived products).
            An equivalent scale is generally expressed as an integer value expressing the scale denominator.
        type: array
        items: { type: number }
      spatialResolutionDistance:
        description: >-
          Spatial resolution (6.2)
            Spatial resolution refers to the level of detail of the data set. It shall be expressed as a set of zero
          to many resolution distances (typically for gridded data and imagery-derived products) or equivalent
          scales (typically for maps or map-derived products).
            An equivalent scale is generally expressed as an integer value expressing the scale denominator.
        type: array
        items:
          type: object
          properties:
            value:
              type: number
            unit:
              description: the unit of length
              type: string
              enum: [ meter, kilometer, millimeter]
      conformity:
        description: >-
          CONFORMITY (7.)
        type: array
        items:
          description: >-
            If the specification can be expressed throw an URI, then its is given in the specificationUri property
              else the specification is experessed throw its title and reference date
          type: object
          properties:
            specificationUri: {type: string}
            specificationTitle: {type: string}
            specificationDate: {type: string, format: date}
            degreeOfConformity:
              description: >-
                Degree (7.2)
                  This is the degree of conformity of the resource to the implementing rules adopted under Article 7(1)
                of Directive 2007/2/EC or other specification.
              type: string
              enum: [conformant, notConformant, notEvaluated]
      useLimitation:
        description: >-
          Conditions applying to access and use (8.1)
            This metadata element defines the conditions for access and use of spatial data sets and services,
          and where applicable, corresponding fees as required by Article 5(2)(b) and Article 11(2)(f) of Directive
          2007/2/EC.
            The value domain of this metadata element is free text.
            The element must have values. If no conditions apply to the access and use of the resource,
          ‘no conditions apply’ shall be used. If conditions are unknown, ‘conditions unknown’ shall be used.
            This element shall also provide information on any fees necessary to access and use the resource,
          if applicable, or refer to a uniform resource locator (URL) where information on fees is available.
        type: array
        items:
          type: string
      accessConstraints:
        description: >-
          Limitations on public access (8.2)
            When Member States limit public access to spatial data sets and spatial data services under Article 13
          of Directive 2007/2/EC, this metadata element shall provide information on the limitations and the reasons
          for them.
            If there are no limitations on public access, this metadata element shall indicate that fact.
            The value domain of this metadata element is free text.
            One of the URI from http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess has to be used.
        type: string
        enum:
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/noLimitations
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1a
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1b
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1c
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1d
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1e
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1f
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1g
          - http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/INSPIRE_Directive_Article13_1h
      responsibleParty:
        description: >-
          Responsible party (9.1)
            This is the description of the organisation responsible for the establishment, management, maintenance and
          distribution of the resource.
        type: array
        items:
          type: object
          properties:
            name:
              description: the name of the organisation as free text
              type: string 
            email:
              description: a contact e-mail address as a character string
              type: string 
            role:
              description: >-
                Responsible party role (9.2)
                  This is the role of the responsible organisation.
                  The value domain of this metadata element is defined bellow:
                  - resourceProvider: Party that supplies the resource
                  - custodian: Party that accepts accountability and responsibility for the data and ensures appropriate
                    care and maintenance of the resource
                  - owner: Party that owns the resource
                  - user: Party who uses the resource
                  - distributor: Party who distributes the resource
                  - originator: Party who created the resource
                  - pointOfContact: Party who can be contacted for acquiring knowledge about or acquisition of the
                    resource.
                  - principalInvestigator: Key party responsible for gathering information and conducting research.
                  - processor: Party who has processed the data in a manner such that the resource has been modified.
                  - publisher: Party who published the resource.
                  - author: Party who authored the resource.
              type: string
              enum:
                - resourceProvider
                - custodian
                - owner
                - user
                - distributor
                - originator
                - pointOfContact
                - principalInvestigator
                - processor
                - publisher
                - author
      mdContact:
        description: >-
          Metadata point of contact (10.1)
            This is the description of the organisation responsible for the creation and maintenance of the metadata.
        type: array
        items:
          type: object
          properties:
            name:
              description: the name of the organisation as free text
              type: string
            email:
              description: a contact e-mail address as a character string
              type: string
      mdDate:
        description: >-
          Metadata date (10.2)
            The date which specifies when the metadata record was created or updated.
            This date shall be expressed in conformity with ISO 8601.
        type: string
        format: date
      language:
        description: >-
          Metadata language (10.3)
            This is the language in which the metadata elements are expressed.
            The value domain of this metadata element is limited to the official languages of the Community expressed
          in conformity with ISO 639-2.
        type: string
    example:
      title: example of a metadata file for a resource
      abstract: an abstract of the resource
      type: dataset
      locator:
        - http://example.org/info
        - http://example.org/wms
        - http://example.org/wfs
      uri: [ http://urba.geoapi.fr/35647654678 ]
      resourceLanguage: [ fre ]
      topicCategory: [ planningCadastre ]
      keywords:
        - value: Land use
          uri: http://inspire.ec.europa.eu/theme/lu
        - value: urbanisme
      bbox:
        - westBoundLongitude: 0.345
          southBoundLatitude: 46.568
          eastBoundLongitude: 0.768
          northBoundLatitude: 47.078
      temporalExtent:
        - type: publicationDate
          date: 2018-02-01
        - type: temporalExtent
          startingDate: 2017-01-01
          endDate: 2017-12-31
      lineage: >-
        history of the spatial data set
      spatialResolutionScaleDenominator: [ 10000 ]
      conformity:
        - specificationUri: http://covadis.georef.fr/CNIG-PLU201712
          degreeOfConformity: conformant
        - specificationUri: http://inspire.ec.europa.eu/theme/lu
          degreeOfConformity: conformant
      useLimitation:
        - https://www.etalab.gouv.fr/wp-content/uploads/2017/04/ETALAB-Licence-Ouverte-v2.0.pdf
      accessConstraints: http://inspire.ec.europa.eu/metadata-codelist/LimitationsOnPublicAccess/noLimitations
      responsibleParty:
        - name: Mission de l'information géographique (MIG), Ministère chargé de l'écologie, CGDD / DRI
          email: mig.dri.cgdd@developpement-durable.gouv.fr
          role: pointOfContact
      mdContact:
        - name: Mission de l'information géographique (MIG), Ministère chargé de l'écologie, CGDD / DRI
          email: mig.dri.cgdd@developpement-durable.gouv.fr
      language: eng
externalDocs:
  description: Documentation of the API
  url: https://github.com/benoitdavidfr/inspireinoai
